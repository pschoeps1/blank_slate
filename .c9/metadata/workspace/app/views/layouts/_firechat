{"changed":true,"filter":false,"title":"_firechat","tooltip":"/app/views/layouts/_firechat","value":"<script>\n// Create a new Firebase reference, and a new instance of the Login client\nvar chatRef = new Firebase('https://blazing-inferno-7068.firebaseio.com/chat');\n\nfunction login() {\n  chatRef.authWithOAuthPopup(\"facebook\", function(error, authData) {\n    if (error) {\n      console.log(error);\n    }\n  });\n}\n\nchatRef.onAuth(function(authData) {\n  // Once authenticated, instantiate Firechat with our user id and user name\n  if (authData) {\n    initChat(authData);\n  }\n});\n</script>\n\n<a href='#' onclick='login();'>Login with Facebook</a>\n<script>\nfunction initChat(authData) {\n  var chat = new FirechatUI(chatRef, document.getElementById('firechat-wrapper'));\n  chat.setUser(authData.uid, authData[authData.provider].displayName);\n}\n</script>","undoManager":{"stack":[[{"start":{"row":0,"column":0},"end":{"row":26,"column":9},"action":"insert","lines":["<script>","// Create a new Firebase reference, and a new instance of the Login client","var chatRef = new Firebase('https://blazing-inferno-7068.firebaseio.com/chat');","","function login() {","  chatRef.authWithOAuthPopup(\"facebook\", function(error, authData) {","    if (error) {","      console.log(error);","    }","  });","}","","chatRef.onAuth(function(authData) {","  // Once authenticated, instantiate Firechat with our user id and user name","  if (authData) {","    initChat(authData);","  }","});","</script>","","<a href='#' onclick='login();'>Login with Facebook</a>","<script>","function initChat(authData) {","  var chat = new FirechatUI(chatRef, document.getElementById('firechat-wrapper'));","  chat.setUser(authData.uid, authData[authData.provider].displayName);","}","</script>"],"id":1}]],"mark":-1,"position":0},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":26,"column":9},"end":{"row":26,"column":9},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1431097101184}