{"filter":false,"title":"_firechat.html.erb","tooltip":"/app/views/layouts/_firechat.html.erb","undoManager":{"stack":[[{"start":{"row":0,"column":0},"end":{"row":26,"column":9},"action":"insert","lines":["<script>","// Create a new Firebase reference, and a new instance of the Login client","var chatRef = new Firebase('https://blazing-inferno-7068.firebaseio.com/chat');","","function login() {","  chatRef.authWithOAuthPopup(\"facebook\", function(error, authData) {","    if (error) {","      console.log(error);","    }","  });","}","","chatRef.onAuth(function(authData) {","  // Once authenticated, instantiate Firechat with our user id and user name","  if (authData) {","    initChat(authData);","  }","});","</script>","","<a href='#' onclick='login();'>Login with Facebook</a>","<script>","function initChat(authData) {","  var chat = new FirechatUI(chatRef, document.getElementById('firechat-wrapper'));","  chat.setUser(authData.uid, authData[authData.provider].displayName);","}","</script>"],"id":1}]],"mark":0,"position":0},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":6,"column":16},"end":{"row":6,"column":16},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":1,"state":"js-start","mode":"ace/mode/html_ruby"}},"timestamp":1431097159603,"hash":"f78ca605d769d8429cc7e587085e3d38fe480f98"}